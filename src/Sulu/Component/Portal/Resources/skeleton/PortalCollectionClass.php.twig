<?php
use Sulu\Component\Portal\PortalCollection;
use Sulu\Component\Portal\Portal;
use Sulu\Component\Portal\Language;
use Sulu\Component\Portal\Theme;
use Sulu\Component\Portal\Environment;
use Sulu\Component\Portal\Url;

/**
 * {{ cache_class }}
 *
 * DO NOT EDIT
 * This file is autogenerated by the Sulu Portal component
 */
class {{ cache_class }} extends {{ base_class }}
{
    public function __construct()
    {
{% for portal in portals %}

        // new portal
        $portal = new Portal();
        $portal->setName('{{ portal.name }}');
        $portal->setKey('{{ portal.key }}');
{% for language in portal.languages %}

        // add language
        $language = new Language();
        $language->setCode('{{ language.code }}');
        $language->setFallback('{{ language.fallback }}');
        $language->setMain('{{ language.main }}');
        $portal->addLanguage($language);
{% endfor %}

        // add theme
        $theme = new Theme();
        $theme->setKey('{{ portal.theme.key }}');
{% for excludedTemplate in portal.theme.excludedTemplates %}        $theme->addExcludedTemplate('{{ excludedTemplate }}');
{% endfor %}        $portal->setTheme($theme);
{% for environment in portal.environments %}

        // add environment
        $environment = new Environment();
        $environment->setType('{{ environment.type }}');
{% for url in environment.urls %}

        // add environment url
        $url = new Url();
        $url->setMain({{ (url.main) ? 'true' : 'false' }});
        $url->setUrl('{{ url.url }}');
        $environment->addUrl($url);
{% endfor %}

        $portal->addEnvironment($environment);
{% endfor %}

        $this->add($portal);

{% endfor %}
    }
}
