<form id="rule-form">
    <input type="hidden" id="id" data-mapper-property="id">
    <div class="form-horizontal">
        <div class="grid-row">
            <label for="title" class="required"><%= translations.title %></label>

            <input class="form-element" type="text" id="title"
                   data-validation-required="true"
                   data-mapper-property="title"/>
        </div>

        <div class="grid-row">
            <label for="frequency" class="required"><%= translations.frequency %></label>

            <div id="frequency"
                 class="grid-col-4"
                 data-type="husky-select"
                 data-form="true"
                 data-aura-component="select@husky"
                 data-aura-default-label="<%= translations.pleaseChoose %>"
                 data-aura-data="{{ frequencies|json_encode }}"
                 data-validation-required="true"
                 data-mapper-property="frequency"
                 data-mapper-return-value="id"></div>
        </div>

        <div class="grid-row form-group-vertical">
            <label><%= translations.conditions %></label>
            <div class="input-description"><%= translations.conditionsDescription %></div>
        </div>

        <div id="conditions" data-type="collection" data-mapper-property='{"data": "conditions", "tpl": "condition-tpl"}'>
            <script type="text/template" id="condition-tpl">
                <div class="grid-row" data-type="collection">
                    <div class="grid-col-4"
                         data-type="husky-select"
                         data-form="true"
                         data-aura-component="select@husky"
                         data-aura-default-label="<%= translations.pleaseChoose %>"
                         data-aura-data='[{"id": "locale", "name": "Locale"}]'
                         data-validation-required="true"
                         data-mapper-property="type"
                         data-mapper-return-value="id"></div>

                    <div class="grid-col-4">
                        <input class="form-element"
                               type="text"
                               data-mapper-property="locale"/>
                    </div>
                </div>
            </script>
        </div>

        <div class="grid-row">
            <div class="addButton" data-mapper-add="conditions">
                <span class="control-label"><%= translations.conditionAdd %></span>
            </div>
        </div>
    </div>
</form>
