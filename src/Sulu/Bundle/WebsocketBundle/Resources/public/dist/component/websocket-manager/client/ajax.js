define(["websocket/abstract","jquery"],function(a,b){var c=function(b,c){a.call(this,b,c),this.type=a.TYPE_AJAX};return c.prototype=Object.create(a.prototype),c.prototype.doSend=function(a,c){var d=b.Deferred();return b.ajax({url:"/admin/websocket/"+this.app.name,type:"POST",data:{message:this.generateMessage(a,c,{})}}).then(function(a){this._onMessage.notify(a),a.error?d.reject(a.handler,a.message):d.resolve(a.handler,a.message)}.bind(this)),d.promise()},c});