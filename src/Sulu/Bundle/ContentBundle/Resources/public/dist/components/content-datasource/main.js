define([],function(){"use strict";var a={url:null,resultKey:null,selected:null,webspace:null,locale:null,selectCallback:function(){}},b={responsive:!1,actionIcon:"fa-check",showOptions:!1,sortable:!1,showStatus:!1};return{initialize:function(){this.sandbox.logger.log("initialize",this),this.options=this.sandbox.util.extend(!0,{},a,this.options),this.selected=this.options.selected,this.render(),this.columnNavigationOptions=this.sandbox.util.extend(!0,{},b,{el:this.$columnNavigationElement,instanceName:"smart-content."+this.options.instanceName,url:this.prepareUrl(this.options.url),resultKey:this.options.resultKey,selected:this.options.selected}),this.startColumnNavigation(this.columnNavigationOptions).then(this.bindCustomEvents.bind(this))},prepareUrl:function(a){return a=a.replace("{id=dataSource&}",this.selected?"id="+this.selected+"&":""),a=a.replace("{webspace}",this.options.webspace),a=a.replace("{locale}",this.options.locale)},startColumnNavigation:function(a){return this.sandbox.start([{name:"column-navigation@husky",options:a}])},render:function(){this.$columnNavigationElement=this.sandbox.dom.createElement("<div/>"),this.html(this.$columnNavigationElement)},bindCustomEvents:function(){this.sandbox.on("husky.column-navigation.smart-content."+this.options.instanceName+".action",function(a){this.selected=a.id,this.options.selectCallback(a.id,a.path)}.bind(this))}}});