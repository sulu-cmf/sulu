define([],function(){"use strict";var a={options:{url:null,resultKey:null,selected:null,webspace:null,locale:null,selectCallback:function(a){}},templates:{columnNavigationContainer:"<div/>"}},b={responsive:!1,actionIcon:"fa-check",showOptions:!1,sortable:!1,showStatus:!1},c="smart-content.datasource.";return{defaults:a,events:{names:{setSelected:{postFix:"set-selected",type:"on"}},namespace:c},initialize:function(){this.selected=this.options.selected,this.render(),this.columnNavigationOptions=this.sandbox.util.extend(!0,{},b,{el:this.$columnNavigationElement,instanceName:"smart-content-"+this.options.instanceName,url:this.prepareUrl(this.options.url),resultKey:this.options.resultKey,selected:this.selected,actionCallback:function(a){this.selected=a.id,this.options.selectCallback(a.id,a.path)}.bind(this)}),this.startColumnNavigation(this.columnNavigationOptions).then(this.bindCustomEvents.bind(this))},prepareUrl:function(a){return a=a.replace("{id=dataSource&}",this.selected?"id="+this.selected+"&":""),a=a.replace("{webspace}",this.options.webspace),a=a.replace("{locale}",this.options.locale)},startColumnNavigation:function(a){return this.sandbox.start([{name:"column-navigation@husky",options:a}])},render:function(){this.$columnNavigationElement&&this.sandbox.stop(this.$columnNavigationElement),this.$columnNavigationElement=this.sandbox.dom.createElement(this.templates.columnNavigationContainer()),this.html(this.$columnNavigationElement)},setSelected:function(a){this.selected=a,this.sandbox.emit("husky.column-navigation.smart-content-"+this.options.instanceName+".set-options",{selected:a,url:this.prepareUrl(this.options.url)})},bindCustomEvents:function(){this.events.setSelected(this.setSelected.bind(this))}}});