define(["suluresource/models/filter","app-config"],function(a,b){"use strict";var c="sulu.resource.filters.",d={baseFilterRoute:"resource/filters"},e=c+"new",f=c+"delete",g=c+"save",h=c+"list";return{initialize:function(){this.filter=null,this.bindCustomEvents(),"list"===this.options.display?this.renderList():"form"===this.options.display&&this.renderForm()},bindCustomEvents:function(){this.sandbox.on(e,function(){this.newFilter()}.bind(this)),this.sandbox.on(g,function(a){this.save(a)}.bind(this)),this.sandbox.on(f,function(a){"array"===this.sandbox.util.typeOf(a)?this.deleteFilters(a):this.deleteFilter(a)}.bind(this)),this.sandbox.on("husky.datagrid.item.click",function(a){this.load(a,b.getUser().locale)}.bind(this)),this.sandbox.on(h,function(){this.sandbox.emit("sulu.router.navigate",d.baseFilterRoute)}.bind(this)),this.sandbox.on("sulu.header.language-changed",function(a){this.load(this.options.id,a)},this)},save:function(a){},newFilter:function(){this.sandbox.emit("sulu.router.navigate",d.baseFilterRoute+"/"+this.options.type+"/"+b.getUser().locale+"/add")},deleteFilter:function(a){},deleteFilters:function(a){},showDeleteConfirmation:function(a,b){0!==a.length&&this.sandbox.emit("sulu.overlay.show-warning","sulu.overlay.be-careful","product.attributes.delete.warning",b.bind(this,!1),b)},load:function(a,b){this.sandbox.emit("sulu.router.navigate",d.baseFilterRoute+"/"+b+"/edit:"+a+"/details")},renderForm:function(){var b=this.sandbox.dom.createElement('<div id="filters-form-container"/>'),c={name:"filters/components/form@suluresource",options:{el:b,locale:this.options.locale,type:this.options.type}};this.html(b),this.options.id?(this.filter=a.findOrCreate({id:this.options.id}),this.filter.fetchLocale(this.options.locale,{success:function(a){c.options.data=a.toJSON(),this.sandbox.start([c])}.bind(this)})):this.sandbox.start([c])},renderList:function(){var a=this.sandbox.dom.createElement('<div id="filters-list-container"/>');this.html(a),this.sandbox.start([{name:"filters/components/list@suluresource",options:{el:a,type:this.options.type}}])}}});