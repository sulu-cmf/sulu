define([],function(){"use strict";return{saveCategory:function(a,b){var c=this.getCategoryModel(a.id);c.set(a),c.save(null,{success:function(a){this.sandbox.emit(CATEGORY_CHANGED.call(this),a.toJSON()),b(a.toJSON(),!0)}.bind(this),error:function(a,c){this.sandbox.logger.log("Error while saving category"),b(c.responseJSON,!1)}.bind(this)})},deleteCategories:function(a,b,c){var d,e=0;this.sandbox.sulu.showDeleteDialog(function(f){f===!0&&this.sandbox.util.foreach(a,function(f){d=this.getCategoryModel(f),d.destroy({success:function(){"function"==typeof b?b(f):this.sandbox.emit(CATEGORY_DELETED.call(this),f),e++,e===a.length&&"function"==typeof c&&c()}.bind(this),error:function(){this.sandbox.logger.log("Error while deleting a single category")}.bind(this)})}.bind(this))}.bind(this))}}});