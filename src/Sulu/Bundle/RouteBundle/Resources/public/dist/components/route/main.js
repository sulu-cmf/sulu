define(["text!./skeleton.html"],function(a){return{defaults:{options:{instanceName:null,locale:null},templates:{skeleton:a},translations:{enablePageSelect:"sulu_route.content-type.enable-page-select",showHistory:"public.show-history"}},initialize:function(){this.bindCustomEvents(),this.render(),this.sandbox.start([{name:"toggler@husky",options:{el:this.$el.find(".toggler-container"),instanceName:this.options.instanceName}}])},render:function(){this.$el.html(this.templates.skeleton({translations:this.translations,togglerId:this.options.instanceName})),this.bindDomEvents()},bindCustomEvents:function(){this.sandbox.on("husky.toggler."+this.options.instanceName+".changed",this.togglerChanged.bind(this))},bindDomEvents:function(){this.$el.find(".page-select").on("click",this.pageSelectClicked.bind(this))},togglerChanged:function(a){return this.$el.find(".page-select").toggle()},pageSelectClicked:function(){var a=$("<div/>");this.$el.append(a),this.sandbox.start([{name:"route/page-overlay@suluroute",options:{el:a,locale:this.options.locale,selectCallback:this.setParentPage.bind(this)}}])},setParentPage:function(a){var b=a.url;this.$el.find(".tree").text(b.replace(/\/+$/g,"")+"/")}}});