require.config({paths:{sulumedia:"../../sulumedia/dist",sulumediacss:"../../sulumedia/css","extensions/masonry":"../../sulumedia/dist/extensions/masonry","extensions/sulu-buttons-mediabundle":"../../sulumedia/dist/extensions/sulu-buttons","services/sulumedia/media-router":"../../sulumedia/dist/services/media-router","services/sulumedia/overlay-manager":"../../sulumedia/dist/services/overlay-manager","services/sulumedia/collection-manager":"../../sulumedia/dist/services/collection-manager","services/sulumedia/media-manager":"../../sulumedia/dist/services/media-manager","services/sulumedia/user-settings-manager":"../../sulumedia/dist/services/user-settings-manager","type/media-selection":"../../sulumedia/dist/validation/types/media-selection","datagrid/decorators/masonry-view":"../../sulumedia/dist/components/collections/masonry-decorator/masonry-view"}}),define(["services/sulumedia/media-router","services/sulumedia/overlay-manager","extensions/masonry","extensions/sulu-buttons-mediabundle","css!sulumediacss/main"],function(a,b,c,d){"use strict";return{name:"SuluMediaBundle",initialize:function(e){var f=e.sandbox;e.components.addSource("sulumedia","/bundles/sulumedia/dist/components"),c.initialize(e),d.initialize(e),f.urlManager.setUrl("media","media/collections/edit:<%= collectionId %>/files/edit:<%= mediaId %>",function(a){return{mediaId:a.properties.media_id,collectionId:a.properties.collection_id}}),f.mvc.routes.push({route:"media/collections/root",callback:function(){return'<div data-aura-component="collections/root@sulumedia"/>'}}),f.mvc.routes.push({route:"media/collections/edit::id/:content",callback:function(a){return'<div data-aura-component="collections/edit@sulumedia" data-aura-id="'+a+'"/>'}}),f.mvc.routes.push({route:"media/collections/edit::id/:content/edit::mediaId",callback:function(b,c,d){f.sulu.viewStates["media-file-edit-id"]=parseInt(d),a.toCollection(b)}}),e.components.before("initialize",function(){"Sulu App"===this.name&&(this.sandbox.on("husky.data-navigation.collections.select",function(b){null===b&&a.toRoot()}.bind(this)),this.sandbox.on("husky.data-navigation.collections.add",function(a){b.startCreateCollectionOverlay.call(this,a)}.bind(this)),this.sandbox.on("sulu.media.collection-create.created",function(b){a.toCollection(b.id)}.bind(this)),this.sandbox.on("husky.dropzone.error",function(){var a=this.sandbox.translate("sulu.dropzone.error.title");a=a.replace("{{filename}}",this.sandbox.util.cropMiddle(file.name,20)),this.sandbox.emit("sulu.labels.error.show","sulu.dropzone.error.message",a)}.bind(this)),this.sandbox.on("husky.dropzone.error.file-to-big",function(a,b){var c=this.sandbox.translate("sulu.dropzone.error.file-to-big.title");c=c.replace("{{filename}}",this.sandbox.util.cropMiddle(b.name,20)),this.sandbox.emit("sulu.labels.error.show",a,c)}.bind(this)))})}}});